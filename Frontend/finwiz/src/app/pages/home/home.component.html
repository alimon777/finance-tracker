<div class="dashboard-container bg-blue-50 flex flex-col md:flex-row gap-6">
  <div class="flex flex-col md:flex-row gap-6 w-full">
    
    <!-- Stats Container: Transaction Totals -->
    <div class="stats-container flex-1 p-6 bg-blue-100 shadow-md rounded-lg">
      <h3 class="text-2xl font-semibold text-blue-950 mb-4">Transaction Totals</h3>
      
      <!-- Weekly Option -->
      <div 
        class="stat-item py-3 px-4 rounded-lg cursor-pointer transition duration-300 hover:bg-blue-50" 
        [class.bg-blue-100]="periodLabel === 'weekly'"
        (click)="toggleDropdown('weekly')"
      >
        <div class="flex items-center justify-between">
          <div>
            <h4 class="text-xl font-medium text-blue-950">This Week</h4>
            <p class="text-md text-blue-950">Deposits: {{ expenditureSummary?.weekly?.deposit?.INCOME || 0 }}</p>
            <p class="text-md text-blue-950">Withdrawals: {{ expenditureSummary?.weekly?.withdrawTotal || 0 }}</p>
          </div>
          <svg 
            class="w-5 h-5 text-blue-950 transition-transform duration-300" 
            [ngClass]="{'transform rotate-180': isWeeklyExpanded}" 
            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </div>

        <!-- Dropdown for Withdrawal Breakdown -->
        <div *ngIf="isWeeklyExpanded" class="ml-4 mt-2 text-sm text-blue-950">
          <p>Entertainment: {{ expenditureSummary?.weekly?.withdraw?.ENTERTAINMENT || 0 }}</p>
          <p>Transportation: {{ expenditureSummary?.weekly?.withdraw?.TRANSPORTATION || 0 }}</p>
          <p>Housing: {{ expenditureSummary?.weekly?.withdraw?.HOUSING || 0 }}</p>
          <p>Food: {{ expenditureSummary?.weekly?.withdraw?.FOOD || 0 }}</p>
        </div>
      </div>
      
      <!-- Monthly Option -->
      <div 
        class="stat-item py-3 px-4 rounded-lg cursor-pointer transition duration-300 hover:bg-blue-50" 
        [class.bg-blue-100]="periodLabel === 'monthly'"
        (click)="toggleDropdown('monthly')"
      >
        <div class="flex items-center justify-between">
          <div>
            <h4 class="text-xl font-medium text-blue-950">This Month</h4>
            <p class="text-md text-blue-950">Deposits: {{ expenditureSummary?.monthly?.deposit?.INCOME || 0 }}</p>
            <p class="text-md text-blue-950">Withdrawals: {{ expenditureSummary?.monthly?.withdrawTotal || 0 }}</p>
          </div>
          <svg 
            class="w-5 h-5 text-blue-950 transition-transform duration-300" 
            [ngClass]="{'transform rotate-180': isMonthlyExpanded}" 
            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </div>

        <!-- Dropdown for Withdrawal Breakdown -->
        <div *ngIf="isMonthlyExpanded" class="ml-4 mt-2 text-sm text-blue-950">
          <p>Entertainment: {{ expenditureSummary?.monthly?.withdraw?.ENTERTAINMENT || 0 }}</p>
          <p>Transportation: {{ expenditureSummary?.monthly?.withdraw?.TRANSPORTATION || 0 }}</p>
          <p>Housing: {{ expenditureSummary?.monthly?.withdraw?.HOUSING || 0 }}</p>
          <p>Food: {{ expenditureSummary?.monthly?.withdraw?.FOOD || 0 }}</p>
        </div>
      </div>
      
      <!-- Yearly Option -->
      <div 
        class="stat-item py-3 px-4 rounded-lg cursor-pointer transition duration-300 hover:bg-blue-50" 
        [class.bg-blue-100]="periodLabel === 'yearly'"
        (click)="toggleDropdown('yearly')"
      >
        <div class="flex items-center justify-between">
          <div>
            <h4 class="text-xl font-medium text-blue-950">This Year</h4>
            <p class="text-md text-blue-950">Deposits: {{ expenditureSummary?.yearly?.deposit?.INCOME || 0 }}</p>
            <p class="text-md text-blue-950">Withdrawals: {{ expenditureSummary?.yearly?.withdrawTotal || 0 }}</p>
          </div>
          <svg 
            class="w-5 h-5 text-blue-950 transition-transform duration-300" 
            [ngClass]="{'transform rotate-180': isYearlyExpanded}" 
            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </div>

        <!-- Dropdown for Withdrawal Breakdown -->
        <div *ngIf="isYearlyExpanded" class="ml-4 mt-2 text-sm text-blue-950">
          <p>Entertainment: {{ expenditureSummary?.yearly?.withdraw?.ENTERTAINMENT || 0 }}</p>
          <p>Transportation: {{ expenditureSummary?.yearly?.withdraw?.TRANSPORTATION || 0 }}</p>
          <p>Housing: {{ expenditureSummary?.yearly?.withdraw?.HOUSING || 0 }}</p>
          <p>Food: {{ expenditureSummary?.yearly?.withdraw?.FOOD || 0 }}</p>
        </div>
      </div>
    </div>

    <!-- Charts Container: Line and Pie Charts -->
    <div class="charts-container flex-1 p-6 bg-blue-50  rounded-lg min-w-0">
      <app-line-chart [lineChartData]="lineChartData"></app-line-chart>
      <app-pie-chart [pieChartData]="pieChartData"></app-pie-chart>
    </div>
    
    <!-- Financial News Component -->
    <div class="financial-news flex-1 p-6 bg-blue-100 shadow-md rounded-lg">
      <app-news></app-news>
    </div>
  </div>
</div>
